<dom-module id="animated-filters">
  <style>
    :host {
      display: block;
    }
  </style>
  <template>
    <template is="dom-repeat" items="{{filters}}">
      <drawer-box filter="{{item}}">{{item.name}}</drawer-box>
    </template>
  </template>
</dom-module>

<script>
  Polymer({
    is: 'animated-filters',
    behaviors: [
      Polymer.NeonSharedElementAnimatableBehavior
    ],

    properties: {
      filters: Object,

      animationConfig: {
        type: Object,
        value: function() {
          return {
            'exit': [{
              name: 'fade-out-animation',
              node: this,
            }]
          }
        }
      }
    },

    listeners: {
      click: '_onClick'
    },

    _onClick: function ( e ) {
      var target = event.target;
      while (target !== this && !target._templateInstance) {
        target = target.parentNode;
      }

      if (target.localName == 'drawer-box') {
        this.fire('filter-click', {
          filter: target.filter
        });
      }
    }
  });
</script>
